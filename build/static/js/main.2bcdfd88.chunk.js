(this["webpackJsonpwmc-front"]=this["webpackJsonpwmc-front"]||[]).push([[0],{346:function(e,n,t){e.exports=t(599)},355:function(e,n,t){},599:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(36),i=t.n(o),c=t(28),l=(t(355),t(302)),u=t(70),s=t(33),p=Object(s.a)(),d=t(49),f=t(21),m=t.n(f),g=t(67),h=t.n(g),b=function(e){var n;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(h.a.post("/api/login",e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}))},v=function(e){return"Bearer ".concat(e)},E=function(e){var n;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(h.a.post("/api/users",e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}))},x=function(e){var n,t;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n={headers:{Authorization:v(e)}},r.next=3,m.a.awrap(h.a.get("/api/users",n));case 3:return t=r.sent,r.abrupt("return",t.data);case 5:case"end":return r.stop()}}))},O=function(e,n){var t,r;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={headers:{Authorization:v(n)}},a.next=3,m.a.awrap(h.a.put("".concat("/api/users","/favorites"),e,t));case 3:return r=a.sent,console.log("response ",r),a.abrupt("return",r.status);case 6:case"end":return a.stop()}}))},y=function(e,n){return function(t){t({type:"ADD_NOTIFICATION",message:e,level:n}),setTimeout((function(){t({type:"REMOVE_NOTIFICATION"})}),5e3)}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_NOTIFICATION":return Object.assign({},{message:n.message,level:n.level});case"REMOVE_NOTIFICATION":return{};default:return e}},C=function(e){return{type:"LOGIN_USER",userObj:e}},j={loggedIn:!1,userProfile:{}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN_USER":var t=Object(d.a)({},n.userObj);return{loggedIn:!0,userProfile:t};case"LOGOUT_USER":return Object(d.a)({},e,{userProfile:{}});case"ADD_FAVORITE":return Object(d.a)({},e,{userProfile:Object(d.a)({},e.userProfile,{favorites:e.userProfile.favorites.concat(n.data)})});default:return e}},S=t(22),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"optionOne",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_OPTION":return n.option;default:return e}},L=t(11),I=t(12);function A(){var e=Object(L.a)(["\n  position: absolute;\n  visibility: hidden;\n\n&.op1 ~ "," {\n  transform: translate(-50px, -25px); \n\tbackground: #7395AE; \n}\n\n&.op3 ~ "," {\n  transform: translate(-50px, -25px); \n\tbackground: #7395AE; \n}\n\n  &.op1:checked {\n    & ~ "," {      \n      transform: translate(-50px, 33px);\t   \n    }    \n  }\n  \n  &.op3:checked {     \n    & ~ "," {\n    transform: translate(-50px, -83px); \n    }    \n  }    \n  "]);return A=function(){return e},e}function F(){var e=Object(L.a)(["\n  transform: translate(",", ","); \n\tbackground: #B1A296; \n  box-shadow: 0 6px 12px rgba(177, 162, 150, 0.4);\n"]);return F=function(){return e},e}function P(){var e=Object(L.a)(["\n  width: 30px; \n  height: 30px;\n\tposition: absolute;\n\tborder-radius: 50%;\n  box-shadow: 0 6px 12px rgba(33, 150, 243, 0.35);\n  transition: transform .6s cubic-bezier(0.68, -0.55, 0.27, 1.55);  \n"]);return P=function(){return e},e}function N(){var e=Object(L.a)(["\n  cursor: pointer; \n\tfont-weight: 500; \n  font-size: 16px; \n\n  &:hover {\n    font-weight: bold;\n  }\n"]);return N=function(){return e},e}function _(){var e=Object(L.a)(["\n  display: block;\n\tposition: relative;\n\tpadding: 20px 0px;\n"]);return _=function(){return e},e}function R(){var e=Object(L.a)(["\n  list-style-type: none;\n\tpadding-left: 50px;\n\tmargin: 0;\n"]);return R=function(){return e},e}function z(){var e=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 200px;\n  padding: 20px 25px;\n\tborder-radius: 20px;\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.13);\n"]);return z=function(){return e},e}function H(){var e=Object(L.a)(["\n  color: #7395AE;\n  margin-top: 0;  \n"]);return H=function(){return e},e}function D(){var e=Object(L.a)(["\n  /*\n  display: flex;  \n  justify-content: center;\n  align-items: center;\n  background-color: #5D5C61;\n  */\n  padding: 1em 10px 0 1em;  \n  width: 95%;\n  height: 100%;\n  box-sizing: border-box;\n  box-shadow: 1px 0px 2px 1px rgba(115,149,174,.6);\n \n"]);return D=function(){return e},e}var G=I.a.div(D()),U=I.a.h1(H()),B=(I.a.div(z()),I.a.ul(R())),M=I.a.li(_()),V=I.a.label(N()),W=I.a.div(P()),Y=Object(I.a)(W)(F(),(function(e){return e.pos.y}),(function(e){return e.pos.x})),K=I.a.input(A(),W,W,W,W),J={optionChange:function(e){return{type:"SET_OPTION",option:e}}},Z=Object(c.b)(null,J)((function(e){var n=Object(r.useState)("optionOne"),t=Object(S.a)(n,2),o=t[0],i=t[1],c=function(n){var t=n.target.value;e.optionChange(t),i(t)};return a.a.createElement(G,null,a.a.createElement(U,null,"Menu"),a.a.createElement(B,null,a.a.createElement(M,null,a.a.createElement(K,{type:"radio",name:"options",className:"op1",value:"optionOne",id:"one",checked:"optionOne"===o,onChange:function(e){return c(e)}}),a.a.createElement(V,{htmlFor:"one"},"Single country"),a.a.createElement(W,null)),a.a.createElement(M,null,a.a.createElement(K,{type:"radio",name:"options",className:"op2",id:"two",value:"optionTwo",checked:"optionTwo"===o,onChange:function(e){return c(e)}}),a.a.createElement(V,{htmlFor:"two",id:"rbtn-label-two"},"Compare"),a.a.createElement(Y,{pos:"optionOne"===o?{y:"-50px",x:"-83px"}:"optionTwo"===o?{y:"-50px",x:"-25px"}:{y:"-50px",x:"33px"}})),a.a.createElement(M,null,a.a.createElement(K,{type:"radio",name:"options",className:"op3",id:"three",value:"optionThree",checked:"optionThree"===o,onChange:function(e){return c(e)}}),a.a.createElement(V,{htmlFor:"three"},"Countries list"),a.a.createElement(W,null))))}));function $(e,n){return Object.assign({},e,n)}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CHANGE_LISTORDER":var t={order:"desc"===e.order?"asc":"desc"};return $(e,t);case"CHANGE_LISTPAGE":return $(e,{page:n.page});case"CHANGE_LISTSORT":var r={sort:n.sort};return Object(d.a)({},e,{},r);case"CHANGE_LISTLIMIT":var a={limit:n.limit};return Object(d.a)({},e,{},a);case"CHANGE_LISTYEAR":return $(e,{year:n.year});case"CHANGE_LISTFILTER":var o={filter:n.filter};return $(e,o);default:return e}},Q={sort:"country",year:2e3,page:1,order:"desc",limit:10,filter:""},X=t(131),ee=t.n(X),ne=t(633),te=t(622),re=t(618),ae=t(621),oe=t(620),ie=t(625),ce=t(300),le=Object(re.a)({root:{width:350,paddingBottom:"1em"}}),ue=Object(ce.a)({palette:{primary:{main:"#7395AE"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}}});function se(e){return e}var pe=function(e){var n=le();return a.a.createElement("div",{className:n.root},a.a.createElement(oe.a,{id:"discrete-slider",gutterBottom:!0},"Years"),a.a.createElement(ae.a,{theme:ue},a.a.createElement(ie.a,{defaultValue:2e3,getAriaValueText:se,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",onChange:function(n,t){return e.handleChange(t)},step:1,marks:!0,min:1970,max:2020})))},de=t(628),fe=t(630),me=function(e){return a.a.createElement(de.a.Header,null,a.a.createElement(de.a.Row,null,a.a.createElement(de.a.HeaderCell,{width:3,sorted:"country"===e.column?e.direction:null,onClick:function(){return e.handleSort("country")}},"Country"),a.a.createElement(de.a.HeaderCell,{width:1,sorted:"population"===e.column?e.direction:null,onClick:function(){return e.handleSort("population")}},"Population"),a.a.createElement(de.a.HeaderCell,{width:1,sorted:"emissions"===e.column?e.direction:null,onClick:function(){return e.handleSort("emissions")}},"Emissons co2 (kt)"),a.a.createElement(de.a.HeaderCell,{width:1,sorted:"perCapita"===e.column?e.direction:null,onClick:function(){return e.handleSort("perCapita")}},"co2 / citizen (t)"),a.a.createElement(de.a.HeaderCell,{width:1,sorted:"favorite"===e.column?e.direction:null,onClick:function(){return e.handleSort("favorite")}},"Favorite")))},ge=t(629),he=[{key:"0",value:"10",text:"10"},{key:"1",value:"25",text:"25"},{key:"2",value:"50",text:"50"},{key:"3",value:"100",text:"100"}],be=function(e){return a.a.createElement(a.a.Fragment,null,"Records per page:"," ",a.a.createElement(ge.a,{inline:!0,options:he,defaultValue:e.limit,onChange:e.onChangeLimit}))},ve=t(632),Ee=function(e){return a.a.createElement(de.a.Row,null,a.a.createElement(de.a.Cell,null,e.country.name),a.a.createElement(de.a.Cell,null,e.country.population),a.a.createElement(de.a.Cell,null,e.country.emissions),a.a.createElement(de.a.Cell,null,e.country.perCapita),a.a.createElement(de.a.Cell,{textAlign:"center"},a.a.createElement(ve.a,{onClick:function(){return e.addFavorite(e.country.name)},color:e.country.favorite?"google plus":"twitter",icon:e.country.favorite?"heart":"heart outline"})))},xe=function(e){var n=e.countries.map((function(n,t){return a.a.createElement(Ee,{key:t,country:n,addFavorite:e.addFavorite})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(be,{limit:e.limit,onChangeLimit:e.onChangeLimit}),"Total count: ",e.totalCount,".",a.a.createElement(de.a,{celled:!0,selectable:!0,sortable:!0},a.a.createElement(me,{column:e.column,direction:e.direction,handleSort:e.handleSort}),a.a.createElement(de.a.Body,null,n),a.a.createElement(de.a.Footer,null,a.a.createElement(de.a.Row,null,a.a.createElement(de.a.HeaderCell,{colSpan:"6"},a.a.createElement(fe.a,{totalPages:e.totalPages,activePage:e.currentPage,onPageChange:e.onChangePage}))))))},Oe=t(624),ye=t(626),we=new RegExp("^[a-zA-Z]+$"),Ce=function(e){var n=Object(r.useState)(""),t=Object(S.a)(n,2),o=t[0],i=t[1],c=Object(r.useState)(!0),l=Object(S.a)(c,2),u=l[0],s=l[1],p="";return u?p="Invalid character.":0===e.totalCount&&(p="No results found."),a.a.createElement(Oe.a,null,a.a.createElement(Oe.a.Group,null,a.a.createElement(Oe.a.Field,null,a.a.createElement(ye.a,{trigger:a.a.createElement(Oe.a.Input,{placeholder:"Enter the filter.",name:"filter",value:o,error:!u,label:"Filter",onChange:function(n){var t=n.target.value;console.log("value ",t),""===t||we.test(t)?(s(!0),i(t),e.onSubmitFilter(t)):(i(t),s(!1))},icon:"search"}),content:p,on:"click",open:!u||0===e.totalCount,position:"right center"}))))},je=function(e){var n=e.countries,t=e.listProperties,r=e.authentication;console.log("counries"),console.log("lis properties",t),console.log("authentication ",r);var a=[],o=t.year-1960;return""!==t.filter&&(n=n.filter((function(e){return e.name.toLowerCase().startsWith(t.filter)}))),n.forEach((function(e){var n=Object(d.a)({},e);n.population=e.population[o],n.emissions=e.emissions[o],n.perCapita=e.perCapita[o],n.year=1960+o,n.favorite=r.userProfile.favorites.includes(e.name),a.push(n)})),"population"===t.sort?"asc"===t.order?a.sort((function(e,n){return e.population-n.population})):a.sort((function(e,n){return n.population-e.population})):"country"===t.sort?"asc"===t.order?a.sort((function(e,n){return e.name<n.name?1:e.name>n.name?-1:0})):a.sort((function(e,n){return e.name<n.name?-1:e.name>n.name?1:0})):"emissions"===t.sort?"asc"===t.order?a.sort((function(e,n){return e.emissions-n.emissions})):a.sort((function(e,n){return n.emissions-e.emissions})):"perCapita"===t.sort?"asc"===t.order?a.sort((function(e,n){return e.perCapita-n.perCapita})):a.sort((function(e,n){return n.perCapita-e.perCapita})):"favorite"===t.sort&&(a=a.filter((function(e){return e.favorite}))),a.slice((t.page-1)*t.limit,t.page*t.limit)},ke={changeListOrder:function(e){return{type:"CHANGE_LISTORDER",order:e}},changeListPage:function(e){return{type:"CHANGE_LISTPAGE",page:e}},changeListSort:function(e){return{type:"CHANGE_LISTSORT",sort:e}},changeListLimit:function(e){return{type:"CHANGE_LISTLIMIT",limit:e}},changeListYear:function(e){return{type:"CHANGE_LISTYEAR",year:e}},changeListFilter:function(e){return{type:"CHANGE_LISTFILTER",filter:e}},addFavoritesToUser:function(e){return function(n){var t;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===(t=localStorage.getItem("token"))){r.next=11;break}return r.prev=2,r.next=5,m.a.awrap(O(e,t));case 5:n({type:"ADD_FAVORITE",data:e}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),console.log("exception ",r.t0);case 11:case"end":return r.stop()}}),null,null,[[2,8]])}}},Se=Object(c.b)((function(e){return{listCountries:je(e),limit:e.listProperties.limit,totalCount:e.countries.length,sort:e.listProperties.sort,page:e.listProperties.page,year:e.listProperties.year,order:e.listProperties.order,listFilter:e.listProperties.filter}}),ke)((function(e){var n,t=e.listCountries,o=Object(r.useState)(2e3),i=Object(S.a)(o,2),c=i[0],l=i[1],u=Object(X.debounce)((function(n){l(n),e.changeListYear(n)}),500);return a.a.createElement(ne.a,null,a.a.createElement(pe,{value:c,handleChange:u}),a.a.createElement(Ce,{filter:e.listFilter,totalCount:e.listCountries.length,onSubmitFilter:function(n){e.filter!==n&&e.changeListFilter(n)}}),a.a.createElement(te.a,null),a.a.createElement(xe,{countries:t,totalCount:e.totalCount,totalPages:Math.ceil(e.totalCount/e.limit),currentPage:e.page,onChangePage:function(n,t){var r=t.activePage;r!==e.page&&e.changeListPage(r)},column:e.sort,direction:(n=e.order,"asc"===n?"ascending":"desc"===n?"descending":null),handleSort:function(n){e.changeListSort(n),e.changeListOrder()},onChangeLimit:function(n,t){t.value!==e.limit&&e.changeListLimit(t.value)},limit:e.limit.toString(),addFavorite:function(n){e.addFavoritesToUser(n)}}))})),Te=t(623),Le=function(e){return e.map((function(e,n){return{year:1960+n,value:e}}))},Ie=function(e,n){return e.map((function(e,t){return{year:1960+t,value:e,compare:n[t]}}))};function Ae(){var e=Object(L.a)(["\n    display: flex;\n    margin-top: 1em; \n    align-items: center;   \n  "]);return Ae=function(){return e},e}function Fe(){var e=Object(L.a)(["\n  text-align: center;\n"]);return Fe=function(){return e},e}function Pe(){var e=Object(L.a)(["\n\n"]);return Pe=function(){return e},e}I.a.div(Pe());var Ne=I.a.h1(Fe()),_e=I.a.div(Ae()),Re=function(e){return{type:"SET_FILTER",filter:e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"World",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_FILTER":return n.filter;default:return e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"population",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CHANGE_CHARTSHOW":return n.country;default:return e}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_COMPAREFILTER":return n.filter;case"REMOVE_COMPAREFILTER":return null;default:return e}};function Ge(){var e=Object(L.a)(["\n  list-style-type: none;  \n  padding: 6px 12px;\n  color: black; \n  outline: none;\n  font-size: 16px;\n  cursor: pointer;\n\n  :hover {\n    border-radius: 10px;\n    background-color: #7395AE; \n  }\n/*\n border: 1px solid #ececec;\n*/\n  \n"]);return Ge=function(){return e},e}function Ue(){var e=Object(L.a)(["\n  list-style: none;\n  padding-left: 0; \n  top: 100%;\n  left: 0;\n  margin: 0;\n"]);return Ue=function(){return e},e}function Be(){var e=Object(L.a)(["\nwidth: 240px;\nborder-bottom: 2px dashed #7395AE;\n"]);return Be=function(){return e},e}function Me(){var e=Object(L.a)(["\n  margin-top: 1em;\n  width: 240px;\n  text-align: center;\n  background: transparent;\n  border: none;\n  border-top: 2px solid #7395AE;\n  border-bottom: 2px solid #7395AE;\n  font-family: 'play', sans-serif;\n  font-size: 16px;\n  font-weight: 200px;\n  padding: 10px 0;\n  transition: border 0.5s;\n  outline: none;\n  color: #7395AE;\n  &::placeholder {/* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: #7395AE;\n  opacity: 1; /* Firefox */\n}\n  &:-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color: red;\n  }\n  &::-ms-input-placeholder { /* Microsoft Edge */\n    color: red;\n  }\n  &:focus::placeholder {\n    color: transparent;\n  }\n  \n"]);return Me=function(){return e},e}function Ve(){var e=Object(L.a)(["\npadding: 6px 12px;\nwidth: 100%;\nfont-size: 16px;\nbox-sizing: border-box;\n"]);return Ve=function(){return e},e}function We(){var e=Object(L.a)(["\n"]);return We=function(){return e},e}function Ye(){var e=Object(L.a)(["\npadding: 0 20px;\nwidth: 280px;\n"]);return Ye=function(){return e},e}var Ke=I.a.div(Ye()),Je=I.a.form(We()),Ze=(I.a.input(Ve()),I.a.input(Me())),$e=I.a.div(Be()),qe=I.a.ul(Ue()),Qe=I.a.li(Ge()),Xe={filterChange:Re,compareChange:function(e){return{type:"SET_COMPAREFILTER",filter:e}}},en=Object(c.b)((function(e){return{countries:e.countries,filter:e.filter}}),Xe)((function(e){var n=e.target,t=e.placeholder,o=Object(r.useState)(""),i=Object(S.a)(o,2),c=i[0],l=i[1],u=Object(r.useState)(!1),s=Object(S.a)(u,2),p=s[0],d=s[1],f=Object(r.useRef)(),m=function(e){f.current.contains(e.target)||(l(""),d(!1))};Object(r.useEffect)((function(){return document.addEventListener("mousedown",m),function(){document.removeEventListener("mousedown",m)}}),[]);return a.a.createElement(Ke,{ref:f},a.a.createElement(Je,null,a.a.createElement(Ze,{id:e.id,type:"text",value:c,onChange:function(e){e.target.value.length>0?d(!0):d(!1),l(e.target.value)},placeholder:t})),p>0&&a.a.createElement(nn,{options:e.countries.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})),clickHandler:function(t){d(!1),l(""),"oneCountry"===n?e.filterChange(t):e.compareChange(t)}}))})),nn=function(e){var n,t=e.options,r=e.clickHandler;return 0===t.length?n=a.a.createElement("p",{style:{padding:"12px"}},"No matches found"):t.length<=5&&t.length>0?n=a.a.createElement(qe,null,t.map((function(e){return a.a.createElement(Qe,{key:e.name,onClick:function(){return r(e.name)},className:"searchlist-item"},e.name)}))):t.length>5&&(n=a.a.createElement("p",{style:{padding:"12px"}},"Too many results. Narrow search")),a.a.createElement($e,null,n)};function tn(){var e=Object(L.a)(["\nopacity: 0;\nz-index: 1;\nborder-radius: 50%;\nwidth: 24px;\nheight: 24px;\nmargin-right: 10px;\n&:hover ~ ",' {\n  background: #bebebe;\n  &::after {\n    content: "";\n    display: block;\n    border-radius: 50%;\n    width: 12px;\n    height: 12px;\n    margin: 6px;\n    background: #eeeeee;\n  }\n}\n&:checked + ',' {\n  background: #7395AE;\n  border: 1px solid #7395AE;\n  &::after {\n    content: "";\n    display: block;\n    border-radius: 50%;\n    width: 12px;\n    height: 12px;\n    margin: 6px;\n    box-shadow: 1px 3px 3px 1px rgba(0, 0, 0, 0.1);\n    background: white;\n  }\n}\n']);return tn=function(){return e},e}function rn(){var e=Object(L.a)(["\nposition: absolute;\ntop: 25%;\nleft: 4px;\nwidth: 24px;\nheight: 24px;\nborder-radius: 50%;\nbackground: white;\nborder: 1px solid #bebebe;  \n"]);return rn=function(){return e},e}function an(){var e=Object(L.a)(["\ndisplay: flex;\nmargin-right: 15px;\n/* padding: 5px 10px; */\nalign-items: center;\nheight: 48px;\n\nposition: relative;\n"]);return an=function(){return e},e}function on(){var e=Object(L.a)(["\nfont-size: 16px;\nfont-weight: 500; \n"]);return on=function(){return e},e}function cn(){var e=Object(L.a)(["\ndisplay: flex;\n/*\nheight: auto;\nwidth: 100%;\n*/\npadding: 10px 16px 24px 16px; \nbox-sizing: border-box;\n"]);return cn=function(){return e},e}var ln=I.a.div(cn()),un=I.a.div(on()),sn=I.a.div(an()),pn=I.a.label(rn()),dn=I.a.input(tn(),pn,pn),fn=function(e){var n=e.selected,t=e.handleDataTargetChange;return a.a.createElement(ln,null,a.a.createElement(sn,null,a.a.createElement(dn,{id:"radiobtn-one",type:"radio",name:"radio",value:"population",checked:"population"===n,onChange:function(e){return t(e)}}),a.a.createElement(pn,null),a.a.createElement(un,null,"Population")),a.a.createElement(sn,null,a.a.createElement(dn,{id:"radiobtn-two",type:"radio",name:"radio",value:"emissions",checked:"emissions"===n,onChange:function(e){return t(e)}}),a.a.createElement(pn,null),a.a.createElement(un,null,"Emissions")),a.a.createElement(sn,null,a.a.createElement(dn,{id:"radiobtn-three",type:"radio",name:"radio",value:"perCapita",checked:"perCapita"===n,onChange:function(e){return t(e)}}),a.a.createElement(pn,null),a.a.createElement(un,null,"Emissons per citizen")))},mn=t(50),gn=function(e){var n=e.data,t=e.two,r=e.filter,o=e.compare,i=e.label;return a.a.createElement(mn.e,{width:"99%",aspect:1.9},a.a.createElement(mn.d,{data:n},a.a.createElement(mn.g,{type:"number",dataKey:"year",domain:["dataMin","dataMax"],interval:"preserveEnd"}),a.a.createElement(mn.h,{tickFormatter:function(e){return e.toLocaleString()},width:99,interval:"preserveEnd",label:{value:i,angle:-90,position:"insideLeft"}}),a.a.createElement(mn.a,{strokeDasharray:"3 3"}),a.a.createElement(mn.f,{formatter:function(e){return e.toLocaleString()}}),a.a.createElement(mn.b,{verticalAlign:"top",height:45}),a.a.createElement(mn.c,{name:r,type:"monotone",dataKey:"value",stroke:"#8884d8",dot:!1}),t&&a.a.createElement(mn.c,{name:o,type:"monotone",dataKey:"compare",stroke:"#82ca9d",dot:!1})))},hn=Object(re.a)({root:{width:350,paddingBottom:"1em"}}),bn=Object(ce.a)({palette:{primary:{main:"#7395AE"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}}});function vn(e){return e}var En=function(e){var n=e.value,t=e.handleChange,r=hn();return a.a.createElement("div",{className:r.root},a.a.createElement(oe.a,{id:"range-slider",gutterBottom:!0},"Year range"),a.a.createElement(ae.a,{theme:bn},a.a.createElement(ie.a,{min:1960,max:2020,value:n,onChange:t,valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:vn})))};function xn(){var e=Object(L.a)(["\n\n  background: none!important;\n  border: none;\n  padding: 0!important;\n  margin: 2em 1.5em 0em 1em;\n  /*optional*/\n  font-family: arial, sans-serif;\n  /*input has OS specific font-family*/\n  color: ",";\n  text-decoration: none;\n  outline: none;\n  cursor: pointer;\n\n  &:hover {\n    color: palevioletred;\n  }  \n  "]);return xn=function(){return e},e}function On(){var e=Object(L.a)(["\n    display: inline-block;\n    padding: 0.3em 1.3em;\n    margin:0 1.5em 0em 1em;\n    height: 3em;\n    border-radius: 1.5em;\n    box-sizing: border-box;    \n    font-weight: 300;\n    outline-style: none;\n    color: #FFFFFF;\n    background-color: #7395AE;\n    text-align: center;\n    transition: all 0.2s;\n    font-size: ",";\n  \n  &:hover {\n    background-color:#4095c6;\n  }  \n  "]);return On=function(){return e},e}var yn=I.a.button(On(),(function(e){return e.fontSize?e.fontSize:"20px"})),wn=I.a.button(xn(),(function(e){return e.color?e.color:"white"})),Cn=function(e){return a.a.createElement(wn,{onClick:e.handleButtonClick,fontSize:e.fontSize,color:e.color,id:e.id},e.text)},jn=function(e){return a.a.createElement(yn,{onClick:e.handleButtonClick,fontSize:e.fontSize},e.text)};function kn(){var e=Object(L.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-around;\nalign-items: flex-start;\n"]);return kn=function(){return e},e}var Sn=I.a.div(kn()),Tn=function(e){if(0===e.countries.length)return null;var n,t=e.countries.filter((function(n){return n.name===e.countryFilter}))[0],r=null;switch(null!==e.compareFilter&&"optionTwo"===e.options&&(r=e.countries.filter((function(n){return n.name===e.compareFilter}))[0]),e.chartShow){case"population":n=null===r?Le(t.population):Ie(t.population,r.population);break;case"emissions":n=null===r?Le(t.emissions):Ie(t.emissions,r.emissions);break;case"perCapita":n=null===r?function(e){for(var n=[],t=0;t<e.length;t++)n.push({year:1960+t,value:e[t]});return n}(t.perCapita):function(e,n){for(var t=[],r=0;r<e.length;r++)t.push({year:1960+r,value:e[r],compare:n[r]});return t}(t.perCapita,r.perCapita);break;default:n="population"}return n},Ln={filterChange:Re,changeChartToShow:function(e){return{type:"CHANGE_CHARTSHOW",country:e}}},In=Object(c.b)((function(e){return{showData:Tn(e),countryFilter:e.countryFilter,option:e.options,compareFilter:e.compareFilter}}),Ln)((function(e){var n=e.changeChartToShow,t=e.countryFilter,o=e.option,i=e.compareFilter,c=e.showData,l=Object(r.useState)("population"),u=Object(S.a)(l,2),s=u[0],p=u[1],d=Object(r.useState)([1960,2020]),f=Object(S.a)(d,2),m=f[0],g=f[1],h=function(e,n){var t=Object(r.useState)(e),a=Object(S.a)(t,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){i(e)}),n);return function(){clearTimeout(t)}}),[e,n]),o}(m,500);console.log("chart render");return a.a.createElement(ne.a,null,a.a.createElement(Ne,null,t,"optionTwo"===o&&null!==i&&" compared to ".concat(i)),a.a.createElement(Sn,null,a.a.createElement(en,{id:"country-filter-input",target:"oneCountry",placeholder:"select country"}),"optionTwo"===o&&a.a.createElement(en,{id:"country-compare-input",target:"compare",placeholder:"Compare to another country"}),a.a.createElement(fn,{selected:s,handleDataTargetChange:function(e){var t=e.target.value;p(t),n(t)}})),a.a.createElement(te.a,null),a.a.createElement(Te.a,null,a.a.createElement(gn,{filter:t,compare:i,two:"optionTwo"===o,data:c?c.slice(h[0]-1960,h[1]-1960):null,label:"population"===s?"":"emissions"===s?"CO2 (kt)":"perCapita"===s?"CO2 / citizen (t)":void 0}),a.a.createElement(_e,null,a.a.createElement(En,{value:m,handleChange:function(e,n){g(n)}}),a.a.createElement(jn,{text:"reset",handleButtonClick:function(){g([1960,2020])}}))))}));function An(){var e=Object(L.a)(["\ndisplay: grid;\nheight: 100vh;\ngrid-template-columns: 200px auto;\ngrid-template-rows: 4em auto 4em;\n"]);return An=function(){return e},e}var Fn=I.a.div(An());function Pn(){var e=Object(L.a)(["\ngrid-column: 1/span 2;\ngrid-row: 1;\n"]);return Pn=function(){return e},e}var Nn=I.a.div(Pn());function _n(){var e=Object(L.a)(["\ngrid-column: 1 / span 2;\ngrid-row: 3;\nbackground-color:  #7395AE;\ntext-align: center;\n"]);return _n=function(){return e},e}var Rn=I.a.div(_n());function zn(){var e=Object(L.a)(["\ngrid-column: 1;\ngrid-row: 2;\n"]);return zn=function(){return e},e}var Hn=I.a.div(zn());function Dn(){var e=Object(L.a)(["\ngrid-column: 2/2;\ngrid-row: 2;\nbackground-color: white;\n"]);return Dn=function(){return e},e}var Gn=I.a.div(Dn()),Un=t(183);function Bn(){var e=Object(L.a)(["\ncolor: #7395AE;\npadding: 10px 15px;\nborder-radius: 5px;\n"]);return Bn=function(){return e},e}function Mn(){var e=Object(L.a)(["\ncolor: #7395AE;\npadding: 10px 15px;\nborder-radius: 5px;\ntransition: background-color .35s ease-in-out;\n\n:hover { \n  color: white;   \n  background-color: #557A95;\n}\n"]);return Mn=function(){return e},e}function Vn(){var e=Object(L.a)(["\ndisplay: flex;\n"]);return Vn=function(){return e},e}function Wn(){var e=Object(L.a)(["\nmargin: auto 0;\ncolor:  #557A95;\ntext-align: center;\nfont-size: 2em;\nfont-weight: bold;\npadding: 10px 15px;\nborder-radius: 5px;\n"]);return Wn=function(){return e},e}function Yn(){var e=Object(L.a)(["\ndisplay: flex;\nheight: 100%;\njustify-content: space-between;\nbackground-color: #F9F9F9;\nalign-items: center;\npadding-left: 6em;\npadding-right: 4em;\nbox-shadow: 0 2px 2px -2px rgba(115,149,174,.6);\nz-index: 2;\nposition: relative;\n"]);return Yn=function(){return e},e}var Kn=I.a.nav(Yn()),Jn=I.a.div(Wn()),Zn=I.a.div(Vn()),$n=Object(I.a)(Un.a)(Mn()),qn=I.a.span(Bn()),Qn=function(e){return a.a.createElement(Kn,null,a.a.createElement(Jn,null,"World Must Change"),a.a.createElement(qn,null,e.userProfile.name," logged in"),a.a.createElement(Zn,null,a.a.createElement($n,{to:e.to},e.navLinkText),a.a.createElement(jn,{handleButtonClick:e.handleLogout,text:"Logout",fontSize:10})))},Xn=function(){var e;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(h.a.get("/api/countries/all"));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}))},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INIT_COUNTRIES":var t=n.data.sort((function(e,n){return e.name<n.name?1:e.name>n.name?-1:0})).map((function(e){return e.perCapita=nt(e.population,e.emissions),e}));return t;default:return e}},nt=function(e,n){for(var t=[],r=0;r<e.length;r++)if(null!==e[r]&&null!==n[r]){var a=1e3*n[r]/e[r];t.push(Math.round(10*a)/10)}else t.push(null);return t},tt={initializeCountries:function(){return function(e){var n;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(Xn());case 2:n=t.sent,e({type:"INIT_COUNTRIES",data:n});case 4:case"end":return t.stop()}}))}}},rt=Object(c.b)((function(e){return{option:e.options,user:e.authentication}}),tt)((function(e){var n;return Object(r.useEffect)((function(){console.log("effect"),e.initializeCountries()}),[e]),"optionOne"===e.option?n=a.a.createElement(In,null):"optionTwo"===e.option?n=a.a.createElement(In,null):"optionThree"===e.option&&(n=a.a.createElement(Se,null)),a.a.createElement(Fn,null,a.a.createElement(Nn,null,a.a.createElement(Qn,{handleLogout:e.handleLogout,userProfile:e.user.userProfile,to:"/about",navLinkText:"about the site"})),a.a.createElement(Hn,null,a.a.createElement(Z,null)),a.a.createElement(Gn,null,n),a.a.createElement(Rn,null,a.a.createElement("p",{style:{color:"white"}},"Footer")))}));function at(){var e=Object(L.a)(["\n  margin: 0 auto;\n  width: 240px;\n  text-align: center;\n"]);return at=function(){return e},e}function ot(){var e=Object(L.a)(["\n  text-align: center;\n  margin-bottom: 1em;\n  color: #B1A296;\n"]);return ot=function(){return e},e}function it(){var e=Object(L.a)(["\n  margin-top: 2em;\n  border: none;\n  width: 190px;\n  background-color: whitesmoke;\n  color: #000;\n  font-size: 16px;\n  line-height: 25px;\n  padding: 10px 0;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: background-color 0.3s, color 0.3s;\n\n  &:hover {\n    color: #fff;\n    background-color: black;    \n  }\n"]);return it=function(){return e},e}function ct(){var e=Object(L.a)(["\n  text-align: center;\n  background: rgba(44,62,80,0.7);\n  padding: 20px 40px;\n  width: 350px;\n  margin: 5em auto;\n  height: 440px;\n  border-radius: 10px;\n"]);return ct=function(){return e},e}function lt(){var e=Object(L.a)(["\n  margin-top: 1em;\n  width: 240px;\n  text-align: center;\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid #fff;\n  font-family: 'play', sans-serif;\n  font-size: 16px;\n  font-weight: 200px;\n  padding: 10px 0;\n  transition: border 0.5s;\n  outline: none;\n  color: #fff;\n  &::placeholder {/* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: #fff;\n  opacity: 1; /* Firefox */\n}\n  &:-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color: red;\n  }\n  &::-ms-input-placeholder { /* Microsoft Edge */\n    color: red;\n  }\n  &:focus::placeholder {\n    color: transparent;\n  }\n \n"]);return lt=function(){return e},e}var ut=I.a.input(lt()),st=I.a.div(ct()),pt=I.a.button(it()),dt=I.a.h2(ot()),ft=I.a.form(at());function mt(){var e=Object(L.a)(["\n  color: ","\n"]);return mt=function(){return e},e}var gt=function(e){return ee.a.isEmpty(e.notification)?a.a.createElement("p",{className:"notifi",style:{visibility:"hidden"}},"space"):a.a.createElement(a.a.Fragment,null,a.a.createElement(ht,{className:"notifi",color:"error"===e.notification.level?"red":"green"},e.notification.message))},ht=I.a.p(mt(),(function(e){return e.color})),bt={userLogin:function(e){return function(n){var t;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.awrap(b(e));case 3:t=r.sent,localStorage.setItem("token",t.token),n(C(t.user)),p.push("wmc"),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log("error"),n(y("invalid username or password","error"));case 13:case"end":return r.stop()}}),null,null,[[0,9]])}}},vt=Object(c.b)((function(e){return{notification:e.notification}}),bt)((function(e){var n=Object(r.useState)(""),t=Object(S.a)(n,2),o=t[0],i=t[1],c=Object(r.useState)(""),l=Object(S.a)(c,2),u=l[0],s=l[1],p=function(n){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.userLogin({username:o,password:u}),i(""),s("");case 4:case"end":return t.stop()}}))};return a.a.createElement("div",null,a.a.createElement(st,null,a.a.createElement(dt,null,"Log In"),a.a.createElement(gt,{notification:e.notification}),a.a.createElement(ft,{onSubmit:p},a.a.createElement(ut,{id:"login_username",type:"text",placeholder:"Username",value:o,onChange:function(e){return i(e.target.value)}}),a.a.createElement(ut,{id:"login_password",type:"password",value:u,onChange:function(e){return s(e.target.value)},placeholder:"Password"}),a.a.createElement(pt,{id:"login_button",type:"submit",onSubmit:p},"Login")),a.a.createElement(Cn,{id:"login_toggle",text:"Or Sign Up",handleButtonClick:e.handleButtonClick})))})),Et={newUserSignin:function(e){return function(n){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(E(e));case 3:n(y("user created","success")),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),n(y("something wrong","error"));case 10:case"end":return t.stop()}}),null,null,[[0,6]])}}},xt=Object(c.b)(null,Et)((function(e){var n=Object(r.useState)(""),t=Object(S.a)(n,2),o=t[0],i=t[1],c=Object(r.useState)(""),l=Object(S.a)(c,2),u=l[0],s=l[1],p=Object(r.useState)(""),d=Object(S.a)(p,2),f=d[0],g=d[1],h=function(n){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.newUserSignin({username:o,name:u,password:f}),i(""),g(""),e.handleButtonClick();case 5:case"end":return t.stop()}}))};return a.a.createElement("div",null,a.a.createElement(st,null,a.a.createElement(dt,{className:"signUp"},"Sign Up"),a.a.createElement(ft,{onSubmit:h},a.a.createElement(ut,{id:"signup_username",type:"text",placeholder:"Username",value:o,onChange:function(e){return i(e.target.value)}}),a.a.createElement(ut,{id:"signup_name",type:"text",placeholder:"Name",value:u,onChange:function(e){return s(e.target.value)}}),a.a.createElement(ut,{id:"signup_password",type:"password",value:f,onChange:function(e){return g(e.target.value)},placeholder:"Password"}),a.a.createElement(pt,{id:"signup_submitbutton",type:"submit",onSubmit:h},"Or sign in")),a.a.createElement(Cn,{text:"Or Log In",handleButtonClick:e.handleButtonClick})))}));function Ot(){var e=Object(L.a)(["\n  font-size: 2em;\n  text-align: center;\n"]);return Ot=function(){return e},e}function yt(){var e=Object(L.a)(["\n  font-size: 4em;  \n"]);return yt=function(){return e},e}function wt(){var e=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  padding: 20px;\n  /* background: #1abc9c; */\n  background: #7395AE;\n  color: white; \n  font-size: 20px;\n\n@media (max-width: 1020px) {\n  font-size: 15px;\n}\n\n@media (max-width: 740px) {\n  font-size: 10px;\n}\n"]);return wt=function(){return e},e}var Ct=I.a.div(wt()),jt=I.a.h1(yt()),kt=I.a.p(Ot()),St=function(){var e=Object(r.useState)(!0),n=Object(S.a)(e,2),t=n[0],o=n[1],i=function(){o(!t)};return a.a.createElement(Ct,null,a.a.createElement(jt,null,"World Must Change"),a.a.createElement(kt,null,"See graphical representation about population and emissions in the world."),t?a.a.createElement(vt,{handleButtonClick:i}):a.a.createElement(xt,{handleButtonClick:i}))},Tt=function(){return a.a.createElement("div",null,"Not found")},Lt=t(634),It=function(e){return a.a.createElement(Fn,null,a.a.createElement(Nn,null,a.a.createElement(Qn,{handleLogout:e.handleLogout,userProfile:e.user.userProfile,to:"wmc",navLinkText:"back to wmc"})),a.a.createElement(Gn,null,a.a.createElement("p",null),a.a.createElement(Te.a,{text:!0},a.a.createElement(Lt.a,{as:"h1",dividing:!0},"World Must Change"),a.a.createElement("p",null,"This application gathers information from world bank api and transforms it to graphical presentation."))),a.a.createElement(Rn,null,a.a.createElement("p",{style:{color:"white"}},"Footer")))},At={getUserProfile:function(){return function(e){var n,t;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===(n=localStorage.getItem("token"))){r.next=13;break}return r.prev=2,r.next=5,m.a.awrap(x(n));case 5:t=r.sent,e(C(t)),p.push("wmc"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),localStorage.removeItem("token");case 13:case"end":return r.stop()}}),null,null,[[2,10]])}},logoutUser:function(){return localStorage.removeItem("token"),p.push("frontpage"),{type:"LOGOUT_USER"}}},Ft=Object(c.b)((function(e){return{userProfile:e.authentication}}),At)((function(e){Object(r.useEffect)((function(){e.getUserProfile()}),[]);var n=function(){e.logoutUser()};return console.log("render"),a.a.createElement(u.c,{history:p},a.a.createElement(u.d,null,a.a.createElement(u.b,{path:"/frontpage"},a.a.createElement(St,null)),a.a.createElement(u.a,{exact:!0,from:"/",to:"frontpage"}),a.a.createElement(Pt,{path:"/wmc",userLoggedIn:e.userProfile.loggedIn},a.a.createElement(rt,{handleLogout:n})),a.a.createElement(Pt,{path:"/about",userLoggedIn:e.userProfile.loggedIn},a.a.createElement(It,{handleLogout:n,user:e.userProfile})),a.a.createElement(u.b,{path:"*",component:Tt})))})),Pt=function(e){var n=e.children,t=e.userLoggedIn,r=Object(l.a)(e,["children","userLoggedIn"]);return a.a.createElement(u.b,Object.assign({},r,{render:function(e){var r=e.location;return!0===t?n:a.a.createElement(u.a,{to:{pathname:"/frontpage",state:{from:r}}})}}))},Nt=t(78),_t=t(298),Rt=t(299),zt=Object(Nt.combineReducers)({countries:et,options:T,countryFilter:ze,compareFilter:De,chartShow:He,listProperties:q,authentication:k,notification:w}),Ht=function(e){return Object(Nt.createStore)(zt,e,Object(Rt.composeWithDevTools)(Object(Nt.applyMiddleware)(_t.a)))};i.a.render(a.a.createElement(c.a,{store:Ht()},a.a.createElement(Ft,null)),document.getElementById("root"))}},[[346,1,2]]]);
//# sourceMappingURL=main.2bcdfd88.chunk.js.map